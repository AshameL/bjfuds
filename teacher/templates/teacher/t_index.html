{% extends 'teacher/t_base.html' %}

{% block content %}

    <!-- 头部用户统计 -->
    <div class="row tile_count">
        <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
            <span class="count_top"><i class="fa fa-user"></i> 总共用户</span>
            <div class="count">{{ user }}</div>
        </div>
        <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
            <span class="count_top"><i class="fa fa-clock-o"></i> 今日登录</span>
            <div class="count">9</div>
        </div>
        <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
            <span class="count_top"><i class="fa fa-user"></i> 学生用户</span>
            <div class="count green">{{ student }}</div>
        </div>
        {#        <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">#}
        {#            <span class="count_top"><i class="fa fa-user"></i> 校外用户</span>#}
        {#            <div class="count">{{ others }}</div>#}
        {#        </div>#}
        <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
            <span class="count_top"><i class="fa fa-user"></i> 试题总数</span>
            <div class="count">{{ test }}</div>
        </div>
    </div>
    <!-- /头部用户统计 -->

    <!-- 内容展示 -->
    <div class="row">
        <!--list的显示，最近通知-->
        <div class="col-md-6 col-sm-4 col-xs-12">
            <div class="x_panel">
                <div class="x_title">
                    <h2>学生的最近通知
                        <small>--最近{{ annoucement.count }}个--</small>
                    </h2>
                    <ul class="nav navbar-right panel_toolbox">
                        <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"
                               aria-expanded="false"><i class="fa fa-wrench"></i></a>
                            <ul class="dropdown-menu" role="menu">
                                <li><a href="#">Settings 1</a>
                                </li>
                                <li><a href="#">Settings 2</a>
                                </li>
                            </ul>
                        </li>
                        <li><a class="close-link"><i class="fa fa-close"></i></a>
                        </li>
                    </ul>
                    <div class="clearfix"></div>
                </div>
                <div class="x_content">
                    {% for info in annoucement %}
                        <div class="dashboard-widget-content">

                            <ul class="list-unstyled timeline widget">
                                <li>
                                    <div class="block">
                                        <div class="block_content">
                                            <h2 class="title">
                                                <a>{{ info.briefTitle }}</a>
                                            </h2>
                                            <div class="byline">
                                                <span>{{ info.briefReleaseTime }}</span> {{ info.briefType }}
                                            </div>
                                            <p class="excerpt">{{ info.briefContent }}
                                            </p>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        <!-- Start to do list 最近成绩提交 -->
        <div class="col-md-6 col-sm-6 col-xs-12">
            <div class="x_panel">
                <div class="x_title">
                    <h2>学生成绩单
                        <small>最近的{{ grade.count }}个成绩单</small>
                    </h2>
                    <ul class="nav navbar-right panel_toolbox">
                        <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"
                               aria-expanded="false"><i class="fa fa-wrench"></i></a>
                            <ul class="dropdown-menu" role="menu">
                                <li><a href="#">Settings 1</a>
                                </li>
                                <li><a href="#">Settings 2</a>
                                </li>
                            </ul>
                        </li>
                        <li><a class="close-link"><i class="fa fa-close"></i></a>
                        </li>
                    </ul>
                    <div class="clearfix"></div>
                </div>
                <div class="x_content">

                    <div class="">
                        <ul class="to_do">
                            {% for info in grade %}
                                <li>
                                    <p>
                                        <input type="checkbox" class="flat"> {{ info.userid.name }}:{{ info.chapter }}-->{% widthratio info.accuracy 1 100 %}%
                                    </p>
                                </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- End to do list -->

    </div>
    <!--内容-->


{% endblock %}
{% block script %}
    <script>
        var ctx = document.getElementById("myChart").getContext("2d");
        var myNewChart = new Chart(ctx).PolarArea(data);
        new Chart(ctx).Line(data, options);

        var data = {
            labels: ["January", "February", "March", "April", "May", "June", "July"],
            datasets: [
                {
                    fillColor: "rgba(220,220,220,0.5)",
                    strokeColor: "rgba(220,220,220,1)",
                    pointColor: "rgba(220,220,220,1)",
                    pointStrokeColor: "#fff",
                    data: [65, 59, 90, 81, 56, 55, 40]
                },
                {
                    fillColor: "rgba(151,187,205,0.5)",
                    strokeColor: "rgba(151,187,205,1)",
                    pointColor: "rgba(151,187,205,1)",
                    pointStrokeColor: "#fff",
                    data: [28, 48, 40, 19, 96, 27, 100]
                }
            ]
        }
    </script>
{% endblock %}